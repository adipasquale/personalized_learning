<h1><%= @questionnaire.new_record? ? "New questionnaire" : "Edit questionnaire" %></h1>

<%= form_for(@questionnaire) do |f| %>
  <%= render 'shared/error_messages', {object: @questionnaire} %>

  <div class="row-fluid">
    <div class="span12">
      <%= f.label :name %>
      <%= f.text_field :name %>
    </div>
  </div>

  <div class="row-fluid">
    <div class="span12">
      <%= f.label :step_id %>
      <%= f.collection_select :step_id, Step.all, :id, :name %>
    </div>
  </div>

  <%= render partial: "tasks/questions_fieldset", locals: { form_builder: f,
    with_choices_labels: true, with_correct_checkboxes: false } %>

  <div class="row-fluid">
    <div class="span12">
      <%= f.submit( (@questionnaire.new_record? ? "Create" : "Update"),
        :class => "btn btn-large btn-primary") %>
    </div>
  </div>

<% end %>